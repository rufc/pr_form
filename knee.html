<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Коленный сустав</title>
  <link rel="stylesheet" type="text/css" href="view.css" media="all">
  <script type="text/javascript" src="view.js"></script>
  <link rel="stylesheet" type="text/css" href="msfmultiselect.css" />
  <script src="msfmultiselect.js"></script>





  <script>
    function testVariable() {
      debugger

      // let result_proekcia = ""
      // if (document.getElementById("proekcia").length > 0) {
      //   for (let i = 0; i < document.getElementById("proekcia").length; i++) {
      //     let option = document.getElementById("proekcia").options[i];
      //     if (option.selected) {
      //       result_proekcia = option.value;
      //     }
      //   }
      // }




      let result_add = ""
      if (document.getElementById("add").length > 0) {
        for (let i = 0; i < document.getElementById("add").length; i++) {
          let option = document.getElementById("add").options[i];
          if (option.selected) {
            result_add += option.value + ". ";
          }
        }
      }



      let result_conclusion = ""
      if (document.getElementById("conclusion").length > 0) {
        for (let i = 0; i < document.getElementById("conclusion").length; i++) {
          let option = document.getElementById("conclusion").options[i];
          if (option.selected) {
            result_conclusion = option.value;
          }
        }
      }



      let result_recom = ""
      if (document.getElementById("recom").length > 0) {
        for (let i = 0; i < document.getElementById("recom").length; i++) {
          let option = document.getElementById("recom").options[i];
          if (option.selected) {
            result_recom += option.value + ", ";
          }
        }
      }



      // if (result_risunok < 1) {
      //   result_risunok = "не изменён";
      //   result_zaschet = "";
      // }

      // if (result_risunok == "без особенностей") {
      //   result_zaschet = "";
      // }

      // if (result_zaschet < 1) {
      //   result_risunok += ". ";
      // } else { result_risunok += ", "; }


      // if (result_zaschet) {
      //   result_risunok += "изменён за счёт: "
      // }


      // if (result_rg) {
      //   result_conclusion = "рентген-признаки ";
      // }


      // if (result_korni < 1) {
      //   result_korni = "не расширены, ";
      // }
      // if (result_korni2 < 1) {
      //   result_korni2 = "струкутурные";
      // }

      // if (result_korni2 == "струкутурные" || result_korni2 == "структура сохранена") {
      //   result_korni3 = "";
      // }

      // if (result_korni3 < 1) {
      //   result_korni2 += ". ";
      // } else { result_korni2 += ", "; }


      // if (result_polya < 1 && result_polya_inf < 1) {
      //   result_polya = "без видимых очаговых и инфильтративных изменений. ";
      // } else if (result_polya_inf < 1) {
      //   result_polya_inf = "без видимых инфильтративных изменений. ";
      // } else if (result_polya < 1) {
      //   result_polya = "без видимых очаговых изменений, ";
      // }



      // if (result_kupol < 1) {
      //   result_kupol = "чёткий, ровный";
      //   result_kupol2 = "";
      // }

      // if (result_kupol2 < 1) {
      //   result_kupol = result_kupol.trimEnd() + ". ";
      // }


      // if (result_sinus1 < 1) {
      //   result_sinus1 = "свободные в видимых отделах";
      //   result_sinus2 = "";
      // }

      // if (result_sinus2 < 1) {
      //   result_sinus1 = result_sinus1.trimEnd() + ". ";
      // }


      // if (result_cardio < 1) {
      //   result_cardio = "не расширены";
      //   result_cardio2 = "";
      // }

      // if (result_cardio2 < 1) {
      //   result_cardio += ". ";
      // } else { result_cardio += " "; }

      // if (result_aorta < 1) {
      //   result_aorta = "не изменена. ";
      // }

      // if (result_bones < 1) {
      //   result_bones = "без особенностей. ";
      // }

      // if (result_conclusion < 1) {
      //   result_conclusion = "органы грудной полости без видимой патологии. ";
      // }

      // let recom_zag = "Рекомендации: ";
      // if (result_recom < 1) {
      //   recom_zag = "";
      // }


      let doa = "начальных проявлений остеоартроза";
      if (result_conclusion == "I") {
        doa = "остеоартроза";
        conc_itog = "I стадии (по J. Kellgren & J. Lawrence)";
      } else if (result_conclusion == "II") {
        doa = "остеоартроза";
        conc_itog = "II стадии (по J. Kellgren & J. Lawrence)";
      }
      else if (result_conclusion == "III") {
        doa = "деформирующего остеоартроза";
        conc_itog = "III стадии (по J. Kellgren & J. Lawrence)";
      } else {
        conc_itog = "";
      }

      // result_conclusion == "IV стадии (по J. Kellgren & J. Lawrence)"

      let side = "правого и левого коленных суставов";
      if (result_proekcia = "На обзорных рентгенограммах левого коленного сустава в двух проекциях") {
        side = "левого коленного сустава";
      } else if (result_proekcia = "На обзорных рентгенограммах правого коленного сустава в двух проекциях") {
        side = "правого коленного сустава";
      }

      if (result_conclusion < 1) {
        side_norm = side;
        side = "";
        conc_itog = "рентген-данных за патологические изменения" + side_norm + " не получено.";
        doa = "";
      }





      // document.getElementById("show").innerText = result_proekcia + " " + "лёгочный рисунок " + result_risunok + result_zaschet.replace(/,(?![^,]*,)/m, '.') + "Корни лёгких " + result_korni + result_korni2 + result_korni3.replace(/,(?![^,]*,)/m, '.') + "Лёгочные поля: " + result_polya + result_polya_inf + "Купол диафрагмы " + result_kupol.replace(/,(?![^,]*,)/m, '') + result_kupol2 + "Плевро-диафрагмальные синусы: " + result_sinus1.replace(/,(?![^,]*,)/m, '') + result_sinus2 + "Границы сердца " + result_cardio + result_cardio2 + "Аорта " + result_aorta + "Костные структуры: " + result_bones.replace(/,(?![^,]*,)/m, '.') + result_add + "Заключение: " + result_conclusion + result_rg.replace(/,(?![^,]*,)/m, '.') + recom_zag + result_recom.replace(/,(?![^,]*,)/m, '.');



      document.getElementById("show").innerText = result_add + "Заключение: " + doa + side + conc_itog;


    }



  </script>





</head>

<body id="main_body">


  <div id="form_container">

    <div id="form_item_1">





      <form id="form_48871" class="appnitro" method="post" action="">
        <div class="form_description">
          <h2>Коленный сустав</h2>
          <p><!-- description --></p>
        </div>




        <div class="my_container">

          <div class="my_card_label">
            <p>Проекции</p>
          </div>

          <div class="my_card">
            <select class="form-control" id="proekcia" name="proekcia" multiple>
              <option value="На обзорных рентгенограммах левого коленного сустава в двух проекциях">ЛЕВ 2х</option>
              <option value="На обзорных рентгенограммах правого и левого коленных суставов в прямой проекции">ОБА 1х
              </option>
              <option value="На обзорных рентгенограммах правого и левого коленных суставов в двух проекциях">ОБА 2х
              </option>
            </select>
          </div>

        </div>



        <div class="my_container">

          <div class="my_card_label">
            <p>Минеральная плотность</p>
          </div>

          <div class="my_card">

            <select id="min" name="min" class="form-control_mid" multiple>
              <option value="снижена">снижена</option>
              <option value="легко снижена">легко снижена</option>
              <option value="умеренно снижена">умеренно снижена</option>
            </select>
          </div>

        </div>




        <!-- контейнер суставные поверхности конгруэнтные -->




        <div class="my_container">

          <div class="my_card_label">
            <p>Суставная щель</p>
          </div>

          <div class="my_card">
            <select id="shel" name="shel" class="form-control_mid" multiple>
              <option value="сужена">СУЖ</option>
              <option value="легко сужена">ЛЕГ</option>
              <option value="умеренно сужена">УМ</option>
              <option value="выражено сужена">ВЫР</option>
            </select>
          </div>



          <!-- 
          если одна коленка то:
           в медиальном отделе
           если две коленки то:
          в медиальных отделах -->




          <!-- <div class="my_card">
            <select id="korni2" name="korni2" class="form-control_mid" multiple>
              <option value="структура сохранена">струк сохр</option>
              <option value="малоструктурные">малостр</option>
              <option value="не структурные">не струк</option>
            </select>
          </div> -->

          <!-- <div class="my_card">
            <select id="korni3" name="korni3" class="form-control" multiple>
              <option value="уплотнены">уплотнены</option>
              <option value="с нечеткими и неровными контурами">нечеткие неровные</option>
              <option value="с полицикличными контурами">полицикл</option>
            </select>
          </div> -->





        </div>







        <div class="my_container">


          <div class="my_card_label">
            <p>Краевые разрастания</p>
          </div>



          <div class="my_card">
            <select id="kraevye" name="kraevye" class="form-control_mid" multiple>
              <option value="визуализируются">ВИЗ</option>
              <option value="минимальные">МИН</option>
              <option value="умеренные">УМ</option>
              <option value="выраженные">ВЫР</option>
            </select>
          </div>

          <!-- заострения межмыщелковых возвышений: не определяется -->
          <div class="my_card">
            <select id="zao" name="zao" class="form-control_mid" multiple>
              <option value="заострения межмыщелковых возвышений">ВСЕХ</option>
              <option value="заострение медиального межмыщелкового возвышения">медГО
              <option>
              <option value="заострение медиальных межмыщелковых возвышений">медЫХ</option>
            </select>
          </div>



          <div class="my_card">
            <select id="zao_nadk" name="zao_nadk" class="form-control_mid" multiple>
              <option value="и по краям надколенника">надКА</option>
              <option value="и по краям надколенников">надкОВ</option>
              <option value="и по верхнему краю надколенника">верх надКА</option>
              <option value="и по верхним краям надколенников">верх надкОВ</option>
            </select>
          </div>


        </div>





        <div class="my_container">


          <div class="my_card_label">
            <p>Субхондральный склероз</p>
          </div>


          <div class="my_card">
            <select id="kupol" name="kupol" class="form-control_mid" multiple>
              <option value="медиального мыщелка большеберцовой кости">СУБ</option>
              <option value="уплотнение суставной поверхности медиального мыщелка большеберцовой кости">УПЛ</option>
              <option value="подчеркнута суставная поверхность медиального мыщелка большеберцовой кости">ПОДЧ</option>
            </select>


            <!-- 
              если оба коленных то соответсвенно сделай if:
              
              медиальных мыщелков большеберцовых костей
            уплотнение суставных поверхностей медиальных мыщелков большеберцовых костей
            подчеркнуты суставные поверхности медиальных мыщелков большеберцовых костей 
          
          -->


          </div>


        </div>




        <div class="my_container">

          <div class="my_card_label">
            <p>Дополнения</p>
          </div>

          <div class="my_card">
            <select id="add" name="add" class="form-control" multiple>
              <option value="Артефакты от одежды">АРТ</option>
              <option value="Состояние после оперативного вмешательства">ОПЕР</option>
            </select>
          </div>

        </div>



        <div class="my_container">

          <div class="my_card_label">
            <p>Заключение
              <p />
          </div>

          <div class="my_card">
            <select class="form-control" id="conclusion" name="conclusion" multiple>
              <option value="">НАЧ</option>
              <option value="I">I</option>
              <option value="II">II</option>
              <option value="III">III</option>
            </select>
          </div>


        </div>

        <!-- norm
              рентген-данных за патологические изменения не получено

              side
              правого коленного сустава
              левого коленного сустава
              правого и левого коленных суставов

              рентген-признаки

              начальных проявлений остеоартроза side
              остеоартроза side I стадии (по J. Kellgren & J. Lawrence)
              остеоартроза side II стадии (по J. Kellgren & J. Lawrence)
              деформирующего остеоартроза side III стадии (по J. Kellgren & J. Lawrence) -->




        <div class="my_container">

          <div class="my_card_label">
            <p>Рекомендовано
              <p />
          </div>

          <div class="my_card">
            <select id="recom" name="recom" class="form-control" multiple>
              <option value="рентген-снимок в фазу вдоха">ВДОХ</option>
              <option value="рентген-снимок в правой боковой проекции">ПРАВ бок</option>
              <option value="рентген-снимок в левой боковой проекции">ЛЕВ бок</option>
              <option value="соотнести с клинико-лабораторными данными">СООТ</option>
              <option value="МСКТ органов грудной полости в плановом порядке">МСКТ план</option>
              <option value="МСКТ органов грудной полости">МСКТ</option>
            </select>
          </div>


        </div>


      </form>


    </div>







    <div id="form_item_2">




      <div class="page">
        <nav class="page__menu menu">
          <ul class="menu__list r-list">
            <li class="menu__group"><a href="thorax.html" class="menu__link r-link text-underlined">ОГК</a></li>
            <li class="menu__group"><a href="knee.html" class="menu__link r-link text-underlined">КОЛ</a></li>
            <li class="menu__group"><a href="#0" class="menu__link r-link text-underlined">Option #3</a></li>
            <li class="menu__group"><a href="#0" class="menu__link r-link text-underlined">Option #4</a></li>
            <li class="menu__group"><a href="#0" class="menu__link r-link text-underlined">Option #5</a></li>
          </ul>
        </nav>
      </div>



      <li class="buttons">
        <input type="hidden" name="form_id" value="48871" />
        <input id="saveForm" class="button_text" type="submit" name="submit" value="Вывод" onclick="testVariable()" />
      </li>



      <textarea variable="yname" id="show" class="mytextarea" rows="20" cols="70"></textarea>







    </div>




  </div>



</body>

<script>

  var add = new MSFmultiSelect(
    document.querySelector('#add'),
    {
      theme: 'theme2',
      selectAll: true,
      searchBox: true,
      width: '250px',
      height: '48px',
      // readOnly: true,
      onChange: function (checked, value, instance) {
        console.log(checked, value, instance);
      },
      // appendTo: '#myselect',
      //readOnly:true,
      //autoHide: false
    }
  );




</script>



</html>